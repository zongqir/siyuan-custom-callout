# Callout 自定义设置功能说明

## 🎨 功能概述

现在你可以通过设置面板完全自定义 Callout 的样式，包括：

1. ✨ **新建自定义类型** - 创建你自己的 Callout 风格
2. ✏️ **编辑预设类型** - 修改 11 个预设类型的图标和颜色
3. 🎨 **选择图标** - 从 70+ 个统一风格的图标中选择
4. 🌈 **选择颜色** - 从 18 种预设配色方案中选择，或自定义颜色
5. 🗑️ **隐藏/删除类型** - 隐藏不需要的预设类型，或删除自定义类型
6. 🔄 **整体重置** - 一键恢复所有默认设置
7. 💾 **自动保存** - 所有配置自动保存到插件数据
8. ⚡ **实时更新** - 修改后立即生效

## 📂 新增文件

### 核心配置文件
- `src/callout/config.ts` - 配置管理器，处理配置的加载、保存和操作
- `src/callout/icons.ts` - 图标库，包含 70+ 个统一风格的图标
- `src/callout/colors.ts` - 颜色方案库，包含 18 种预设配色

### UI 组件
- `src/settings/panel.svelte` - 设置面板主界面，显示所有 Callout 类型
- `src/settings/edit-dialog.svelte` - 编辑对话框，用于新建/编辑 Callout 类型

## 🚀 使用方法

### 打开设置面板

1. 点击思源顶部工具栏的 Callout 图标
2. 打开设置面板

### 新建自定义类型

1. 点击右上角「新建类型」按钮
2. 填写表单：
   - **类型ID**: 唯一标识符（小写字母、数字、连字符），如 `my-note`
   - **显示名称**: 显示在 Callout 标题中的名称，如 `我的笔记`
   - **命令**: 触发命令（必须以 `@` 开头），如 `@my-note`
   - **中文命令**（可选）: 中文别名，如 `@我的笔记`
   - **图标**: 从 70+ 个图标中选择
   - **颜色方案**: 从 18 种预设颜色中选择，或使用自定义颜色
3. 点击「保存」

### 编辑现有类型

1. 在类型列表中找到要编辑的类型
2. 点击右侧的「编辑」按钮（铅笔图标）
3. 修改图标或颜色
4. 点击「保存」

### 重置预设类型

如果修改了预设类型（如 `@info`、`@tip` 等），可以点击「重置」按钮恢复默认设置。

### 隐藏预设类型

如果不需要某个预设类型（如 `@info`），可以点击「隐藏」按钮（眼睛关闭图标）隐藏它。

被隐藏的类型：
- 不会在 Callout 菜单中显示
- 不会被自动识别和应用
- 可以通过「整体重置」恢复

### 删除自定义类型

自己创建的自定义类型可以永久删除。点击「删除」按钮（垃圾桶图标）即可。

### 整体重置

点击右上角的「整体重置」按钮可以：
- ✅ 恢复所有 11 个预设类型
- ✅ 删除所有自定义类型
- ✅ 清除所有修改记录
- ✅ 显示所有被隐藏的类型

**注意**：此操作不可撤销，请谨慎使用！

## 🎨 图标库 (70+ 图标)

图标按类别组织：

- **信息类**: 信息圆圈、信息方框、问号
- **提示类**: 灯泡、星星、闪光
- **警告类**: 感叹号、警告三角、盾牌警告
- **成功类**: 对勾圆圈、对勾徽章、点赞
- **文档类**: 文档、文本文档、剪贴板
- **书签类**: 书签、旗帜、标签
- **箭头类**: 各方向箭头、V形箭头
- **交互类**: 点击、手掌、眼睛
- **工具类**: 齿轮、铅笔、垃圾桶
- **对比类**: 天平、水平切换、调整
- **其他**: 心形、火焰、闪电、拼图、对话、代码、终端、数据库等

全部图标使用 Heroicons 风格，确保视觉一致性。

## 🌈 颜色方案 (18 种)

预设配色包括：

1. 蓝色 (#4493f8)
2. 紫色 (#9333ea)
3. 绿色 (#10b981)
4. 黄绿色 (#84cc16)
5. 翡翠绿 (#059669)
6. 橙色 (#ea580c)
7. 深蓝色 (#1e40af)
8. 靛蓝色 (#6366f1)
9. 青色 (#06b6d4)
10. 红色 (#dc2626)
11. 琥珀色 (#f59e0b)
12. 粉色 (#ec4899)
13. 玫瑰色 (#f43f5e)
14. 青绿色 (#14b8a6)
15. 紫罗兰 (#8b5cf6)
16. 紫红色 (#d946ef)
17. 灰色 (#6b7280)
18. 石板色 (#64748b)

每种颜色都自动生成了配套的背景渐变和边框颜色。

## 💾 数据存储

所有配置保存在 `callout-custom-config` 配置键中，包括：

```json
{
  "version": "1.0.0",
  "customTypes": [
    // 你的自定义类型
  ],
  "modifiedDefaults": {
    // 你对预设类型的修改
  },
  "hiddenDefaults": [
    // 你隐藏的预设类型ID
  ]
}
```

## 📝 注意事项

1. **类型ID不能重复**: 新建类型时，ID 不能与现有类型（包括预设类型和被隐藏的类型）重复
2. **命令必须以 @ 开头**: 所有命令都必须以 `@` 符号开头
3. **预设类型可以隐藏**: 11 个预设类型可以修改、重置或隐藏
4. **隐藏不等于删除**: 隐藏的预设类型可以通过整体重置恢复
5. **修改实时生效**: 保存后会立即刷新所有 Callout 样式
6. **整体重置不可撤销**: 重置操作会清空所有自定义配置

## 🔄 刷新功能

点击「刷新」按钮可以重新处理页面中所有的 Callout，确保样式正确应用。

## 🎯 最佳实践

1. **统一命名**: 建议使用有意义的英文名作为类型ID
2. **颜色搭配**: 相似功能的类型使用相近的颜色
3. **图标选择**: 选择与内容相关的图标，提高识别度
4. **命令简洁**: 命令尽量简短易记

## ✨ 示例

创建一个"待办事项" Callout：

- 类型ID: `todo`
- 显示名称: 待办事项
- 命令: `@todo`
- 中文命令: `@待办`
- 图标: 剪贴板对勾 (clipboard-check)
- 颜色: 橙色 (#ea580c)

使用：
```
> @todo
> - [ ] 任务1
> - [ ] 任务2
```

---

现在开始自定义你的 Callout 风格吧！🎨

