# 边注功能测试指南

## 功能概述

新增的参数化语法支持为 Callout 添加边注功能，实现类似 Obsidian 和学术论文的边注效果。

## 语法格式

### 基础语法
```
> @info
> 这是普通的信息块

> @info|left
> 这是左侧边注

> @info|right  
> 这是右侧边注
```

### 高级语法（可选参数）
```
> @info|right|25%
> 宽度为25%的右侧边注

> @info|left|30%|2em
> 宽度30%，间距2em的左侧边注
```

## 支持的参数

### 位置参数（必需）
- `left` / `左` / `l` - 左侧边注
- `right` / `右` / `r` - 右侧边注

### 宽度参数（可选）
- `25%`, `30%`, `35%` 等百分比
- `200px`, `15em` 等固定尺寸
- 默认：`30%`

### 间距参数（可选）
- `1em`, `2em`, `1.5em` 等相对尺寸
- `20px`, `30px` 等固定间距
- 默认：`1em`

## 测试用例

以下是各种边注的实际效果测试：

### 测试1：基础左侧边注
> @tip|left
> 这是一个左侧边注，用于显示附加信息或注释。

### 测试2：基础右侧边注
> @highlight|right
> 这是一个右侧边注，突出显示重要内容。

### 测试3：自定义宽度
> @info|right|35%
> 这是一个宽度为35%的右侧边注，比默认的30%稍宽一些。

### 测试4：自定义宽度和间距
> @concept|left|25%|2em
> 这是一个宽度25%，间距2em的左侧边注，用于展示概念说明。

### 测试5：不同类型的边注
> @pitfall|right|30%|1.5em
> 这是一个警告类型的右侧边注，提醒用户注意常见陷阱。

> @best-practice|left
> 这是最佳实践的左侧边注，默认宽度和间距。

## 菜单支持

新的命令菜单包含了边注选项：
- 普通类型：如 `@info`
- 左侧边注：如 `@info (左侧)`  
- 右侧边注：如 `@info (右侧)`

用户可以：
1. 直接在菜单中选择边注选项
2. 手动输入参数化命令
3. 通过键盘过滤搜索（支持 "left", "right", "边注" 等关键词）

## 响应式设计

边注功能包含响应式处理：
- **桌面端**：正常显示边注效果
- **移动端**（屏幕宽度 ≤ 768px）：自动禁用浮动，恢复普通布局

## 兼容性

- ✅ **向后兼容**：原有的 `@info` 语法完全不变
- ✅ **文档持久化**：边注信息保存在文档中，不依赖本地配置
- ✅ **分享友好**：文档分享时边注效果保持不变
- ✅ **多设备同步**：不同设备间自动同步

## 技术特性

1. **智能解析**：支持中英文参数，容错性强
2. **动态CSS**：通过JavaScript设置CSS变量，避免浏览器兼容问题  
3. **清除浮动**：自动处理文档流，防止布局混乱
4. **性能优化**：CSS样式缓存，避免重复计算

这套边注系统既保持了原有功能的简洁性，又提供了强大的扩展能力！
